(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.ScrollProgress=factory()})(this,function(){"use strict";function noop(){}var ScrollProgress=function(handleUpdate){this._handleUpdate=typeof handleUpdate==="function"?handleUpdate:noop;this._viewportHeight=this._getViewportHeight();this._viewportWidth=this._getViewportWidth();this._progress=this._getProgress();this._handleUpdate(this._progress.x,this._progress.y);this._onScroll=this._onScroll.bind(this);this._onResize=this._onResize.bind(this);window.addEventListener("scroll",this._onScroll);window.addEventListener("resize",this._onResize)};ScrollProgress.prototype._getViewportHeight=function(){return document.body.scrollHeight-window.innerHeight};ScrollProgress.prototype._getViewportWidth=function(){return document.body.scrollWidth-window.innerWidth};ScrollProgress.prototype._getProgress=function(){var x=typeof window.scrollX==="undefined"?window.pageXOffset:window.scrollX;var y=typeof window.scrollY==="undefined"?window.pageYOffset:window.scrollY;return{x:this._viewportWidth===0?0:x/this._viewportWidth,y:this._viewportHeight===0?0:y/this._viewportHeight}};ScrollProgress.prototype._onScroll=function(){this._progress=this._getProgress();this._handleUpdate(this._progress.x,this._progress.y)};ScrollProgress.prototype._onResize=function(){this._viewportHeight=this._getViewportHeight();this._viewportWidth=this._getViewportWidth();this._progress=this._getProgress();this._handleUpdate(this._progress.x,this._progress.y)};ScrollProgress.prototype.trigger=function(){this._handleUpdate(this._progress.x,this._progress.y)};ScrollProgress.prototype.destroy=function(){window.removeEventListener("scroll",this._onScroll);window.removeEventListener("resize",this._onResize);this._handleUpdate=null};return ScrollProgress});